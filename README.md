# 项目介绍
>核心技术：SpringBoot + SpringCloudAlibaba + RocketMQ + ShardingSphere + Redis + MySQL + Sentinel
> 
>项目描述：SaaS 短链接系统，为企业和个人用户提供了一个高效、安全和可靠的短链接管理平台。该平台不仅简化了长链接的管理和分享过程，还提供了深入的分析和跟踪功能，用户可以灵活地管理和优化其链接，从而实现更好的营销效果和业务成果。
# 用户管理模块

# 短链接分组


# 短链接模块
## 01短链接跳转原理
> 入口（Nginx）把请求打到短链服务 → 服务从 Redis 查到长链 → 返回 302 + Location → 浏览器自己去目标网站；同时把点击数据异步送到监控系统。
 
1. 用户/浏览器
- 发送HTTP请求，例如https://sho.rt/abc123

2. Nginx（边缘入口/网关）
- 负责 TLS 终止、限流、WAF、反向代理、负载均衡到后面的短链接服务实例。
- 也可以做少量静态 404/故障页兜底。

3. 短链接服务（多实例）
- 收到 /{slug}（例如 abc123），先解析租户/自定义域与 slug。
- 访问 Redis：按 slug → longUrl 的 K/V 查映射（图中“访问 Redis 获取目标地址”）。
- 命中：进行合法性与过期校验；
- 未命中：通常会回源数据库并回填 Redis（这一步没画在图里，但线上必须有）。
- 写埋点到监控/采集系统（图右下，通常经队列异步写，不阻塞跳转）。 

4. 返回 302
- 服务不直接去“请求目标网站”，而是给浏览器返回一个 HTTP 302，Location 指向原始长链（图里“302 跳转目标地址”是概念连线）。
- 浏览器拿到 302 后，自动再发起一次请求到 目标网站。

5. 目标网站
- 接收浏览器的二次请求，正常响应页面。
- 目标站也可能有自己的监控/统计（图中虚线）。

> tips: 实线表示有直接因果关系，虚线表示有间接因果关系 

![短链接管理.png](图片/短链接管理.png)
## 重定向使用301和302的思考
短链接跳转默认用 302（或 307）：
- 需要统计、A/B、可回滚、目的地可能会改，这些都是短链的常态 → 选 临时重定向。

只有当映射“永远不会再改”时才用 301（或 308）：
- 典型是站点改版、域名迁移、URL 规范化（SEO 场景）→ 选 永久重定向。

# 学习来源
https://gitee.com/nageoffer/shortlink
